import{css as e,html as t,LitElement as r}from"lit-element";import{repeat as i}from"lit-html/directives/repeat";import{classMap as s}from"lit-html/directives/class-map";import{link as o}from"../styles/link";import{dispatchCustomEvent as d}from"../lib/events";import{i18n as a}from"../lib/i18n";export class GvStepper extends r{static get properties(){return{current:{type:Number,reflect:!0},steps:{type:Array},disabled:{type:Boolean},_error:{type:Boolean}}}static get styles(){return[o,e`:host{box-sizing:border-box;--passed--bgc:var(--gv-stepper-valid--bgc, var(--gv-theme-color, #5a7684));--passed--bdc:var(--gv-stepper-passed--bdc, var(--gv-theme-color-light, #86c3d0));--bdc:var(--gv-stepper--bdc, var(--gv-theme-neutral-color-dark, #bfbfbf));--bgc:var(--gv-stepper--bgc, var(--gv-theme-neutral-color-dark, #bfbfbf));--passed--c:var(--gv-stepper-passed--c, #595959);--c:var(--gv-stepper--c, var(--gv-theme-neutral-color-dark, #bfbfbf))}.stepper{display:flex;}.disabled .step{cursor:not-allowed}.step{display:flex;cursor:pointer;min-width:250px}.graph{width:40px; margin: 24px 10px;}.round{min-width:6px;width:6px;min-height:6px;height:6px;border-radius:50%;margin:2px 7px 2px 7px}.border{margin-top:4px;min-width:100px;width:100%;height:2px;clear:both}.round{background-color:var(--bgc);transition:all .2s ease-in}.border{background-color:var(--bdc);margin-bottom:5px;transition:all .2s ease-in}.passed .round{background-color:var(--passed--bgc)}.passed .border{background-color:var(--passed--bdc)}.passed .round{height:10px;width:10px;min-height:10px;min-width:10px;margin:0 5px 0 5px}.first .border:first-of-type{visibility:hidden}.end .border:last-of-type{visibility:hidden}.step:after{content:''; border-top:1px solid #ccc; border-right:1px solid #ccc; width:18px; height:18px; position:absolute; right:0; top:-1px; background-color:white; z-index:150;-webkit-transform: translate(10px,4px) rotate(45deg); -moz-transform: translate(10px,4px) rotate(45deg); -ms-transform: translate(10px,4px) rotate(45deg); -o-transform: translate(10px,4px) rotate(20deg);  transform: translate(10px,4px) rotate(45deg);}.content{flex-direction:column;align-items:center;padding:5px;line-height:24px;font-size:var(--gv-theme-font-size-l,16px);color:var(--c)}.passed .content{color:var(--passed--c)}.title{font-weight:700}.description{font-size:var(--gv-theme-font-size-m,14px)}.error{text-align:center}.circle{width:32px;border:1px solid var(--passed--bgc);margin-top:-12px;border-radius:50%;animation:validate .2s ease-in}gv-icon{--gv-icon--c:var(--passed--bgc);--gv-icon--s:var(--gv-stepper-icon--s, 32px)}.invalid gv-icon{--gv-icon--c:var(--gv-theme-color-danger)}@keyframes validate{from{opacity:0}to{opacity:1}}`]}constructor(){super(),this.current=0,this._steps=[],this._error=!1,this._empty=!0}_onClick(e){!0!==this.disabled&&(this.current=e+1,d(this,"change",{current:this.current}))}async performUpdate(){await Promise.all([this.steps,this.current]).then(([e,t])=>{this._steps=e.map((e,r)=>(e.passed=!0===e.valid||t>0&&r+1<=t,e)),this._error=!1,this._empty=!(this._steps&&this._steps.length>0)}).catch(()=>{this._error=!0,this._empty=!1}),super.performUpdate()}_getIcon(e){return e.invalid?t`<div class="circle invalid"><gv-icon shape="code:error"></gv-icon></div>`:e.valid?t`<div class="circle"><gv-icon shape="code:check"></gv-icon></div>`:t`<div class="round"></div>`}_getStep(e,r){const i={passed:e.passed,valid:e.valid,step:!0,first:0===r,end:r===this._steps.length-1},o={content:!0,link:!this.disabled};return t` <div class="${s(i)}" @click="${this._onClick.bind(this,r)}" title="${e.title}"> <div class="graph"> ${this._getIcon(e)} </div> <div class="${s(o)}"> <div class="title">${e.title}</div> <div class="description">${e.description}</div> </div> </div> `}render(){if(this._error)return t`<div class="error">${a("gv-stepper.error")}</div>`;if(this._empty)return t`<div></div>`;const e={stepper:!0,disabled:this.disabled};return t`<div class="${s(e)}"> ${i(this._steps,e=>e,(e,t)=>this._getStep(e,t))} </div> `}}window.customElements.define("gv-stepper",GvStepper);
//# sourceMappingURL=gv-stepper.js.map