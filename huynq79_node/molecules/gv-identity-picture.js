import{css as t,LitElement as e}from"lit-element";import{html as i}from"lit-html";import o from"jdenticon";import{skeleton as r}from"../styles/skeleton";import{styleMap as n}from"lit-html/directives/style-map";import"../atoms/gv-image";export class GvIdentityPicture extends e{static get properties(){return{picture:{type:String},display_name:{type:String},_error:{type:Boolean,attribute:!1},notification:{type:Boolean},rounded:{type:Boolean,reflect:!0},skeleton:{type:Boolean}}}static get styles(){return[r,t`:host{display:block;position:relative}div{text-align:center}.skeleton,svg{border-radius:20px;width:auto;height:auto;max-width:100%;max-height:100%}gv-image{border-radius:var(--gv-img-icon-vt,0px);width:100%;height:100%;--gv-image--of:contain}:host([rounded]) gv-image,:host([rounded]) svg{border:2px solid var(--gv-theme-neutral-color-lighter,#fafafa);border-radius:50%;box-sizing:border-box;--gv-image--of:cover}.notification{position:absolute;width:8px;height:8px;background-clip:padding-box;border-radius:50%;background-color:var(--gv-identity-picture-notification--bgc,var(--gv-theme-color-light,#86c3d0))}`]}_onError(){this._error=!0}_toNumber(t){return parseInt(t.replace("px",""),10)}_onLoaded(){this._error=!1}_getMaxSize(t,e){return Math.min(this._toNumber(t),this._toNumber(e))}updated(t){t.has("picture")&&(this._error=!1)}render(){const{width:t,height:e}=window.getComputedStyle(this);if((!this.picture||this._error)&&t&&e){const r=this._getMaxSize(t,e),n=document.createElement("div");if(this.skeleton&&n.classList.add("skeleton"),n.title=this.display_name,n.innerHTML=o.toSvg(this.display_name,r,{backColor:"#FFF"}),this.notification){const e=document.createElement("span");e.className="notification",e.style.left=t,n.appendChild(e)}return i`${n}`}return i` <gv-image src="${this.picture}" alt="${this.display_name}" title="${this.display_name}" @error="${this._onError}" @gv-image:loaded="${this._onLoaded}"></gv-image> ${this.notification?i`<span class="notification" style="${n({left:t})}"></span>`:""} `}}window.customElements.define("gv-identity-picture",GvIdentityPicture);
//# sourceMappingURL=gv-identity-picture.js.map
